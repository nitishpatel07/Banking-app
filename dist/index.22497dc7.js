!function(){const e=[{owner:"Jonas Schmedtmann",movements:[200,450,-400,3e3,-650,-130,70,1300],interestRate:1.2,pin:1111,movementsDates:["2019-11-18T21:31:17.178Z","2019-12-23T07:42:02.383Z","2020-01-28T09:15:04.904Z","2020-04-01T10:17:24.185Z","2020-05-08T14:11:59.604Z","2020-05-27T17:01:17.194Z","2020-07-11T23:36:17.929Z","2020-07-12T10:51:36.790Z"],currency:"EUR",locale:"pt-PT"},{owner:"Jessica Davis",movements:[5e3,3400,-150,-790,-3210,-1e3,8500,-30],interestRate:1.5,pin:2222,movementsDates:["2019-11-01T13:15:33.035Z","2019-11-30T09:48:16.867Z","2019-12-25T06:04:23.907Z","2020-01-25T14:18:46.235Z","2020-02-05T16:33:06.386Z","2020-04-10T14:43:26.374Z","2020-06-25T18:49:59.371Z","2020-07-26T12:01:20.894Z"],currency:"USD",locale:"en-US"},{owner:"Steven Thomas Williams",movements:[200,-200,340,-300,-20,50,400,-460],interestRate:.7,pin:3333,movementsDates:["2019-11-01T13:15:33.035Z","2019-11-30T09:48:16.867Z","2019-12-25T06:04:23.907Z","2020-01-25T14:18:46.235Z","2020-02-05T16:33:06.386Z","2020-04-10T14:43:26.374Z","2020-06-25T18:49:59.371Z","2020-07-26T12:01:20.894Z"],currency:"USD",locale:"en-US"},{owner:"Sarah Smith",movements:[430,1e3,700,50,90],interestRate:1,pin:4444,movementsDates:["2019-11-18T21:31:17.178Z","2019-12-23T07:42:02.383Z","2020-01-28T09:15:04.904Z","2020-04-01T10:17:24.185Z","2020-05-08T14:11:59.604Z"],currency:"EUR",locale:"pt-PT"}],t=document.querySelector(".welcome"),n=document.querySelector(".date"),o=document.querySelector(".balance__value"),r=document.querySelector(".summary__value--in"),c=document.querySelector(".summary__value--out"),a=document.querySelector(".summary__value--interest"),l=document.querySelector(".timer"),u=document.querySelector(".app"),s=document.querySelector(".movements"),m=document.querySelector(".login__btn"),i=document.querySelector(".form__btn--transfer"),v=document.querySelector(".form__btn--loan"),d=document.querySelector(".form__btn--close"),p=document.querySelector(".btn--sort"),y=document.querySelector(".login__input--user"),f=document.querySelector(".login__input--pin"),_=document.querySelector(".form__input--to"),S=document.querySelector(".form__input--amount"),T=document.querySelector(".form__input--loan-amount"),g=document.querySelector(".form__input--user"),Z=document.querySelector(".form__input--pin"),D=function(e,t=!1){s.innerHTML="";const n=t?e.movements.slice().sort(((e,t)=>e-t)):e.movements;console.log(n),n.forEach((function(t,n){const o=t>0?"deposit":"withdrawal",r=new Date(e.movementsDates[n]),c=`\n    <div class="movements__row">\n    <div class="movements__type movements__type--${o}">${n+1} ${o}</div>\n    <div class="movements__date">${`${`${r.getDate()}`.padStart(2,0)}/${`${r.getMonth()+1}`.padStart(2,0)}/${r.getFullYear()}`}</div>\n    <div class="movements__value">${N(t,e.locale,e.currency)}</div>\n  </div>`;s.insertAdjacentHTML("afterbegin",c)}))};e.forEach((function(e){e.userName=e.owner.toLowerCase().split(" ").map((e=>e[0])).join("")})),console.log(e);const $=function(e){D(e),function(e){e.balance=e.movements.reduce(((e,t)=>e+t),0),console.log(e.balance);const t=N(e.balance,e.locale,e.currency);o.textContent=`${t}`}(e),function(e){const t=e.movements.filter((e=>e>0)).reduce(((e,t)=>e+t));console.log(t),r.textContent=N(t,e.locale,e.currency);const n=e.movements.filter((e=>e<0)).reduce(((e,t)=>e+t),0);console.log(Math.abs(n)),c.textContent=N(Math.abs(n),e.locale,e.currency);const o=e.movements.filter((e=>e>100)).map((t=>t*e.interestRate/100)).reduce(((e,t)=>e+t));console.log(o),a.textContent=N(o,e.locale,e.currency)}(e)};let b,q;m.addEventListener("click",(function(o){if(o.preventDefault(),b=e.find((e=>e.userName===y.value)),console.log(b),b?.pin===Number(f.value)){t.textContent=`Welcome Back, ${b.owner}`,u.style.opacity=100,q&&clearInterval(q),q=x(),$(b);const e=new Date,o=`${e.getDate()}`.padStart(2,0),r=`${e.getMonth()+1}`.padStart(2,0),c=e.getFullYear(),a=e.getHours(),l=e.getMinutes();n.textContent=`${o}/${r}/${c}, ${a}:${l}`}else u.style.opacity=0,t.textContent="User not found!";y.value=f.value="",f.blur()})),i.addEventListener("click",(function(t){t.preventDefault();const n=Number(S.value),o=e.find((e=>e.userName===_.value));console.log(n),console.log(o),n>0&&o&&b.balance>=n&&o.userName!==b.userName&&(b.movements.push(-n),o.movements.push(n),b.movementsDates.push(new Date),o.movementsDates.push(new Date),$(b),clearInterval(q),q=x()),_.value=S.value="",S.blur()})),v.addEventListener("click",(function(e){e.preventDefault();const t=Number(T.value);t>0&&b.movements.some((e=>e>=.1*t))&&(b.movements.push(t),b.movementsDates.push(new Date),$(b),clearInterval(q),q=x()),T.value=""})),d.addEventListener("click",(function(n){if(n.preventDefault(),g.value===b.userName&&Number(Z.value)===b.pin){const n=e.findIndex((e=>e.userName===b.userName));console.log(n),e.splice(n,1),u.style.opacity=0,console.log(e),t.textContent=`${b.owner}'s account is closed`,setTimeout((function(){t.textContent="Log in to get started"}),2e3)}g.value=Z.value="",Z.blur()}));const h=e.map((e=>e.movements)).flat().reduce(((e,t)=>e+t),0);console.log(h);let w=!0;p.addEventListener("click",(function(e){e.preventDefault(),D(b,w),w=!w}));const N=function(e,t,n){return new Intl.NumberFormat(t,{style:"currency",currency:n}).format(e)},x=function(){const e=function(){const e=String(Math.trunc(n/60)).padStart(2,0),o=String(n%60).padStart(2,0);l.textContent=`${e}:${o}`,n--,0===n&&(clearInterval(q),t.textContent="Log in to get started",u.style.opacity=0)};let n=300;return e(),q=setInterval(e,1e3),q}}();
//# sourceMappingURL=index.22497dc7.js.map
